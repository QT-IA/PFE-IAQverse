<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>IAQverse</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
    <h1>Digital Twin</h1>
    <button class="info-btn" onclick="openModal()">
        <img src="/assets/icons/info.png">
    </button>

    <div id="infoModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2>√Ä propos de cette page</h2>
        <p>Cette interface Digital Twin vous permet de visualiser les alertes de qualit√© de l'air int√©rieur en temps r√©el.</p>
        <ul>
            <li>Le tableau √† gauche montre les actions recommand√©es.</li>
            <li>La visualisation indique les zones concern√©es dans la pi√®ce.</li>
            <li>Les d√©tails au centre expliquent les causes des alertes.</li>
        </ul>
    </div>
    </div>
    </header>

    <script>
        function openModal() {
            document.getElementById("infoModal").style.display = "block";
        }

        function closeModal() {
            document.getElementById("infoModal").style.display = "none";
        }

        window.onclick = function(event) {
            const modal = document.getElementById("infoModal");
            if (event.target === modal) {
                modal.style.display = "none";
            }
        }
    </script>

    <main class="twin-layout">
    <!-- Colonne gauche : Tableau d'actions -->
    <section class="actions-panel">
        <h2>Actions</h2>
        <table class="actions-table">
            <thead>
                <tr>
                    <th>√âtat</th>
                    <th>Sujet</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr class="alert-red" onclick="showDetails('Fen√™tre')">
                    <td>üî¥</td>
                    <td>Fen√™tre</td>
                    <td>Fermer</td>
                </tr>
                <tr class="alert-green" onclick="showDetails('Tableau')">
                    <td>üü¢</td>
                    <td>Tableau</td>
                    <td>D√©poussi√©rer</td>
                </tr>
                <tr class="alert-green" onclick="showDetails('Sol')">
                    <td>üü¢</td>
                    <td>Sol</td>
                    <td>D√©poussi√©rer</td>
                </tr>
            </tbody>
        </table>

        <!-- D√©tails dynamiques -->
        <div id="details-panel" class="details-panel hidden">
            <h3>D√©tails</h3>
            <ul id="details-list"></ul>
        </div>
    </section>

    <script>
    function showDetails(sujet) {
        const panel = document.getElementById("details-panel");
        const list = document.getElementById("details-list");
        panel.classList.remove("hidden");
        list.innerHTML = "";

        if (sujet === "Fen√™tre") {
            list.innerHTML = `
            <li>Taux anormal de CO‚ÇÇ au niveau de la fen√™tre</li>
            <li>Forte concentration de PM2.5</li>
            `;
        } else if (sujet === "Tableau") {
            list.innerHTML = `<li>L√©g√®re accumulation de poussi√®re d√©tect√©e</li>`;
        } else if (sujet === "Sol") {
            list.innerHTML = `<li>Sol propre, aucune alerte d√©tect√©e</li>`;
        }
    }
    </script>

    <!-- Colonne droite : Visualisation pi√®ce -->
    <section class="room-panel">
        <h2>Visualisation</h2>
        <div class="room-visual">
            <div class="alert-point" style="top: 20%; left: 30%;">Fen√™tre üî¥</div>
            <div class="alert-point" style="top: 60%; left: 50%;">Tableau üî¥</div>
            <div class="room-label">2 Alertes</div>
        </div>
    </section>
    </main>

    <footer class="nav-bar">
    <div class="nav-left">
        <a href="index.html">
            <img src="/assets/icons/home.png">
        </a>
        <a href="digital-twin.html">
            <img src="/assets/icons/digital-twin.png">
        </a>
    </div>

    <div class="nav-center">
        <span class="brand">IAQverse</span>
    </div>

    <div class="nav-right">
        <a href="settings.html">
            <img src="/assets/icons/settings.png">
        </a>
    </div>
    </footer>

    <script src="charts.js"></script>
</body>
</html>